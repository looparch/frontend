(function(t,l,h,u,L,a,c,y,o,n,d,v){function p(){v||(v=1,c=(a.lib||"/~partytown/")+(a.debug!==!1?"debug/":""),c[0]=="/"?(o=l.querySelectorAll('script[type="text/partytown"]'),u!=t?u.dispatchEvent(new CustomEvent("pt1",{detail:t})):(y=setTimeout(m,1e4),l.addEventListener("pt0",E),L?f(1):h.serviceWorker?h.serviceWorker.register(c+(a.swPath||"partytown-sw.js"),{scope:c}).then(function(e){e.active?f():e.installing?e.installing.addEventListener("statechange",function(r){r.target.state=="activated"&&f()}):console.warn(e)},console.error):m())):console.warn('Partytown config.lib url must start with "/"'))}function f(e){n=l.createElement(e?"script":"iframe"),e||(n.setAttribute("style","display:block;width:0;height:0;border:0;visibility:hidden"),n.setAttribute("aria-hidden",!0)),n.src=c+"partytown-"+(e?"atomics.js?v=0.7.6":"sandbox-sw.html?"+Date.now()),l.body.appendChild(n)}function m(e,r){for(console.warn("Partytown script fallback"),E(),u==t&&(a.forward||[]).map(function(i){delete t[i.split(".")[0]]}),e=0;e<o.length;e++)r=l.createElement("script"),r.innerHTML=o[e].innerHTML,l.head.appendChild(r);n&&n.parentNode.removeChild(n)}function E(){clearTimeout(y)}a=t.partytown||{},u==t&&(a.forward||[]).map(function(e){d=t,e.split(".").map(function(r,i,s){d=d[s[i]]=i+1<s.length?s[i+1]=="push"?[]:d[s[i]]||{}:function(){(t._ptf=t._ptf||[]).push(s,arguments)}})}),l.readyState=="complete"?p():(t.addEventListener("DOMContentLoaded",p),t.addEventListener("load",p))})(window,document,navigator,top,window.crossOriginIsolated);
