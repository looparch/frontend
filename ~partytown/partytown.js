(function(t,i,f,s,y,r,l,w,c,n,p,m){function u(){m||(m=1,(l=(r.lib||"/~partytown/")+(r.debug?"debug/":""))[0]=="/"&&(c=i.querySelectorAll('script[type="text/partytown"]'),s!=t?s.dispatchEvent(new CustomEvent("pt1",{detail:t})):(w=setTimeout(v,1e4),i.addEventListener("pt0",g),y?h(1):f.serviceWorker?f.serviceWorker.register(l+(r.swPath||"partytown-sw.js"),{scope:l}).then(function(e){e.active?h():e.installing&&e.installing.addEventListener("statechange",function(o){o.target.state=="activated"&&h()})},console.error):v())))}function h(e){n=i.createElement(e?"script":"iframe"),e||(n.setAttribute("style","display:block;width:0;height:0;border:0;visibility:hidden"),n.setAttribute("aria-hidden",!0)),n.src=l+"partytown-"+(e?"atomics.js?v=0.7.6":"sandbox-sw.html?"+Date.now()),i.body.appendChild(n)}function v(e,o){for(g(),s==t&&(r.forward||[]).map(function(a){delete t[a.split(".")[0]]}),e=0;e<c.length;e++)(o=i.createElement("script")).innerHTML=c[e].innerHTML,i.head.appendChild(o);n&&n.parentNode.removeChild(n)}function g(){clearTimeout(w)}r=t.partytown||{},s==t&&(r.forward||[]).map(function(e){p=t,e.split(".").map(function(o,a,d){p=p[d[a]]=a+1<d.length?d[a+1]=="push"?[]:p[d[a]]||{}:function(){(t._ptf=t._ptf||[]).push(d,arguments)}})}),i.readyState=="complete"?u():(t.addEventListener("DOMContentLoaded",u),t.addEventListener("load",u))})(window,document,navigator,top,window.crossOriginIsolated);
