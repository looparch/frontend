"use strict";(self.webpackChunkloop_architectural_materials=self.webpackChunkloop_architectural_materials||[]).push([[5],{4060:function(e,t,i){i.r(t),i.d(t,{Head:function(){return Z},default:function(){return H}});var a=i(7294),n=i(8032),o=i(9703),r=i(4842),s=i(3323),l=i(6746);const h=e=>{let{product:t,pathname:i,children:o}=e;const{siteTitle:r,siteUrl:s,publisher:h}=(0,l.Z)(),d=(t.id,t.manufacturer.title),c=t.title,m=(t.description,t.image_primary.imageFile.childImageSharp.gatsbyImageData,[{"@context":"http://schema.org","@type":"Product",name:t.manufacturer.title+" - "+t.title,image:[""+s+(0,n.d)(t.image_primary.imageFile.childImageSharp.gatsbyImageData)],description:""+(t.description||t.manufacturer.title+" - "+t.title||""),sku:""+t.id,mpn:""+t.id,review:{"@type":"Review",reviewRating:{"@type":"Rating",ratingValue:"5",bestRating:"5"},author:{"@type":"Person",name:h,url:s}},aggregateRating:{"@type":"AggregateRating",ratingValue:"5",reviewCount:"1"},brand:{"@type":"Brand",name:t.manufacturer.title,logo:""+s+t.manufacturer.image_logo_dark.imageFile.publicURL},offers:{"@type":"Offer",price:"1.00",priceCurrency:"USD",priceValidUntil:"2020-01-01",availability:"InStock",url:""+s+i}}]);return a.createElement(a.Fragment,null,a.createElement("script",{type:"application/ld+json"},JSON.stringify(m)))};var d=i(4534),c=i(3935);const m=(e,t)=>e===t?.tagName?.toUpperCase?.(),g=e=>m("DIV",e)||m("SPAN",e),u=e=>m("IMG",e),f=e=>e.complete&&0!==e.naturalHeight,p=e=>m("SVG",e),v=({height:e,offset:t,width:i})=>Math.min((window.innerWidth-2*t)/i,(window.innerHeight-2*t)/e),E=({containerHeight:e,containerWidth:t,hasScalableSrc:i,offset:a,targetHeight:n,targetWidth:o})=>e&&t?!i&&n&&o?(({containerHeight:e,containerWidth:t,offset:i,targetHeight:a,targetWidth:n})=>{const o=v({height:a,offset:i,width:n}),r=n>a?n/t:a/e;return o>1?r:o*r})({containerHeight:e,containerWidth:t,offset:a,targetHeight:n,targetWidth:o}):v({height:e,offset:a,width:t}):1,w=/url(?:\(['"]?)(.*?)(?:['"]?\))/,b=e=>{if(e){if(u(e))return e.currentSrc;if(g(e)){const t=window.getComputedStyle(e).backgroundImage;if(t)return w.exec(t)?.[1]}}},S=({position:e,relativeNum:t})=>{const i=parseFloat(e);return e.endsWith("%")?t*i/100:i},L=/\.svg$/i,y=({hasZoomImg:e,imgSrc:t,isSvg:i,isZoomed:a,loadedImgEl:n,offset:o,shouldRefresh:r,targetEl:s})=>{const l=i||"data:image/svg+xml"===t?.slice?.(0,18)||e||!(!t||!L.test(t)),h=s.getBoundingClientRect(),d=window.getComputedStyle(s),c=null!=n&&g(s),m=null!=n&&!c,u=(({containerHeight:e,containerLeft:t,containerTop:i,containerWidth:a,hasScalableSrc:n,offset:o,targetHeight:r,targetWidth:s})=>{const l=E({containerHeight:e,containerWidth:a,hasScalableSrc:n,offset:o,targetHeight:r,targetWidth:s});return{top:i,left:t,width:a*l,height:e*l,transform:`translate(0,0) scale(${1/l})`}})({containerHeight:h.height,containerLeft:h.left,containerTop:h.top,containerWidth:h.width,hasScalableSrc:l,offset:o,targetHeight:n?.naturalHeight??h.height,targetWidth:n?.naturalWidth??h.width}),f=m?(({containerHeight:e,containerLeft:t,containerTop:i,containerWidth:a,hasScalableSrc:n,objectFit:o,objectPosition:r,offset:s,targetHeight:l,targetWidth:h})=>{if("scale-down"===o&&(o=h<=a&&l<=e?"none":"contain"),"cover"===o||"contain"===o){const d=a/h,c=e/l,m="cover"===o?Math.max(d,c):Math.min(d,c),[g="50%",u="50%"]=r.split(" "),f=S({position:g,relativeNum:a-h*m}),p=S({position:u,relativeNum:e-l*m}),v=E({containerHeight:l*m,containerWidth:h*m,hasScalableSrc:n,offset:s,targetHeight:l,targetWidth:h});return{top:i+p,left:t+f,width:h*m*v,height:l*m*v,transform:`translate(0,0) scale(${1/v})`}}if("none"===o){const[o="50%",d="50%"]=r.split(" "),c=S({position:o,relativeNum:a-h}),m=S({position:d,relativeNum:e-l}),g=E({containerHeight:l,containerWidth:h,hasScalableSrc:n,offset:s,targetHeight:l,targetWidth:h});return{top:i+m,left:t+c,width:h*g,height:l*g,transform:`translate(0,0) scale(${1/g})`}}if("fill"===o){const t=a/h,i=e/l,o=Math.max(t,i),r=E({containerHeight:l*o,containerWidth:h*o,hasScalableSrc:n,offset:s,targetHeight:l,targetWidth:h});return{width:a*r,height:e*r,transform:`translate(0,0) scale(${1/r})`}}return{}})({containerHeight:h.height,containerLeft:h.left,containerTop:h.top,containerWidth:h.width,hasScalableSrc:l,objectFit:d.objectFit,objectPosition:d.objectPosition,offset:o,targetHeight:n.naturalHeight,targetWidth:n.naturalWidth}):void 0,p=c?(({backgroundPosition:e,backgroundSize:t,containerHeight:i,containerLeft:a,containerTop:n,containerWidth:o,hasScalableSrc:r,offset:s,targetHeight:l,targetWidth:h})=>{if("cover"===t||"contain"===t){const d=o/h,c=i/l,m="cover"===t?Math.max(d,c):Math.min(d,c),[g="50%",u="50%"]=e.split(" "),f=S({position:g,relativeNum:o-h*m}),p=S({position:u,relativeNum:i-l*m}),v=E({containerHeight:l*m,containerWidth:h*m,hasScalableSrc:r,offset:s,targetHeight:l,targetWidth:h});return{top:n+p,left:a+f,width:h*m*v,height:l*m*v,transform:`translate(0,0) scale(${1/v})`}}if("auto"===t){const[t="50%",d="50%"]=e.split(" "),c=S({position:t,relativeNum:o-h}),m=S({position:d,relativeNum:i-l}),g=E({containerHeight:l,containerWidth:h,hasScalableSrc:r,offset:s,targetHeight:l,targetWidth:h});return{top:n+m,left:a+c,width:h*g,height:l*g,transform:`translate(0,0) scale(${1/g})`}}{const[d="50%",c="50%"]=t.split(" "),m=S({position:d,relativeNum:o})/h,g=S({position:c,relativeNum:i})/l,u=Math.min(m,g),[f="50%",p="50%"]=e.split(" "),v=S({position:f,relativeNum:o-h*u}),w=S({position:p,relativeNum:i-l*u}),b=E({containerHeight:l*u,containerWidth:h*u,hasScalableSrc:r,offset:s,targetHeight:l,targetWidth:h});return{top:n+w,left:a+v,width:h*u*b,height:l*u*b,transform:`translate(0,0) scale(${1/b})`}}})({backgroundPosition:d.backgroundPosition,backgroundSize:d.backgroundSize,containerHeight:h.height,containerLeft:h.left,containerTop:h.top,containerWidth:h.width,hasScalableSrc:l,offset:o,targetHeight:n.naturalHeight,targetWidth:n.naturalWidth}):void 0,v=Object.assign({},u,f,p);if(a){const e=window.innerWidth/2,t=window.innerHeight/2,i=e-(parseFloat(String(v.left||0))+parseFloat(String(v.width||0))/2),a=t-(parseFloat(String(v.top||0))+parseFloat(String(v.height||0))/2);r&&(v.transitionDuration="0.01ms"),v.transform=`translate(${i}px,${a}px) scale(1)`}return v};let I;"undefined"!=typeof document&&(I=document.createElement("div"),I.setAttribute("data-rmiz-portal",""),document.body.appendChild(I));const z=["img","svg",'[role="img"]',"[data-zoom]"].map((e=>`${e}:not([aria-hidden="true"])`)).join(","),N={overflow:"",width:""};function D(e){return a.createElement(W,{...e})}class W extends a.Component{constructor(){super(...arguments),this.state={id:"",isZoomImgLoaded:!1,loadedImgEl:void 0,modalState:"UNLOADED",shouldRefresh:!1},this.refContent=(0,a.createRef)(),this.refDialog=(0,a.createRef)(),this.refModalContent=(0,a.createRef)(),this.refModalImg=(0,a.createRef)(),this.refWrap=(0,a.createRef)(),this.imgEl=null,this.prevBodyAttrs=N,this.styleModalImg={},this.setId=()=>{const e=()=>Math.random().toString(16).slice(-4);this.setState({id:e()+e()+e()})},this.setAndTrackImg=()=>{const e=this.refContent.current;e&&(this.imgEl=e.querySelector(z),this.imgEl?(this.changeObserver?.disconnect?.(),this.imgEl?.addEventListener?.("load",this.handleImgLoad),this.imgEl?.addEventListener?.("click",this.handleZoom),this.state.loadedImgEl||this.handleImgLoad(),this.imgElObserver=new ResizeObserver((e=>{const t=e[0];t?.target&&(this.imgEl=t.target,this.setState({}))})),this.imgElObserver.observe(this.imgEl)):this.changeObserver||(this.changeObserver=new MutationObserver(this.setAndTrackImg),this.changeObserver.observe(e,{childList:!0,subtree:!0})))},this.handleIfZoomChanged=e=>{const{isZoomed:t}=this.props;!e&&t?this.zoom():e&&!t&&this.unzoom()},this.handleImgLoad=()=>{const{imgEl:e}=this,t=b(e);if(!t)return;const i=new Image;u(e)&&(i.sizes=e.sizes,i.srcset=e.srcset),i.src=t;const a=()=>{this.setState({loadedImgEl:i})};i.decode().then(a).catch((()=>{f(i)?a():i.onload=a}))},this.handleZoom=()=>{this.props.onZoomChange?.(!0)},this.handleUnzoom=()=>{this.props.onZoomChange?.(!1)},this.handleDialogCancel=e=>{e.preventDefault()},this.handleDialogClick=e=>{e.target!==this.refModalContent.current&&e.target!==this.refModalImg.current||this.handleUnzoom()},this.handleDialogKeyDown=e=>{"Escape"!==e.key&&27!==e.keyCode||(e.preventDefault(),e.stopPropagation(),this.handleUnzoom())},this.handleWheel=e=>{e.stopPropagation(),queueMicrotask((()=>{this.handleUnzoom()}))},this.handleTouchStart=e=>{1===e.changedTouches.length&&e.changedTouches[0]&&(this.touchYStart=e.changedTouches[0].screenY)},this.handleTouchMove=e=>{if(null!=this.touchYStart&&e.changedTouches[0]){this.touchYEnd=e.changedTouches[0].screenY;const t=Math.max(this.touchYStart,this.touchYEnd),i=Math.min(this.touchYStart,this.touchYEnd);Math.abs(t-i)>10&&(this.touchYStart=void 0,this.touchYEnd=void 0,this.handleUnzoom())}},this.handleTouchCancel=()=>{this.touchYStart=void 0,this.touchYEnd=void 0},this.handleResize=()=>{this.setState({shouldRefresh:!0})},this.zoom=()=>{this.bodyScrollDisable(),this.refDialog.current?.showModal?.(),this.setState({modalState:"LOADING"}),this.loadZoomImg(),window.addEventListener("wheel",this.handleWheel,{passive:!0}),window.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),window.addEventListener("touchend",this.handleTouchMove,{passive:!0}),window.addEventListener("touchcancel",this.handleTouchCancel,{passive:!0}),this.refModalImg.current?.addEventListener?.("transitionend",this.handleZoomEnd,{once:!0})},this.handleZoomEnd=()=>{setTimeout((()=>{this.setState({modalState:"LOADED"}),window.addEventListener("resize",this.handleResize,{passive:!0})}),0)},this.unzoom=()=>{this.setState({modalState:"UNLOADING"}),window.removeEventListener("wheel",this.handleWheel),window.removeEventListener("touchstart",this.handleTouchStart),window.removeEventListener("touchend",this.handleTouchMove),window.removeEventListener("touchcancel",this.handleTouchCancel),this.refModalImg.current?.addEventListener?.("transitionend",this.handleUnzoomEnd,{once:!0})},this.handleUnzoomEnd=()=>{setTimeout((()=>{window.removeEventListener("resize",this.handleResize),this.setState({shouldRefresh:!1,modalState:"UNLOADED"}),this.refDialog.current?.close?.(),this.bodyScrollEnable()}),0)},this.bodyScrollDisable=()=>{this.prevBodyAttrs={overflow:document.body.style.overflow,width:document.body.style.width};const e=document.body.clientWidth;document.body.style.overflow="hidden",document.body.style.width=`${e}px`},this.bodyScrollEnable=()=>{document.body.style.width=this.prevBodyAttrs.width,document.body.style.overflow=this.prevBodyAttrs.overflow,this.prevBodyAttrs=N},this.loadZoomImg=()=>{const{props:{zoomImg:e}}=this,t=e?.src;if(t){const i=new Image;i.sizes=e?.sizes??"",i.srcset=e?.srcSet??"",i.src=t;const a=()=>{this.setState({isZoomImgLoaded:!0})};i.decode().then(a).catch((()=>{f(i)?a():i.onload=a}))}},this.UNSAFE_handleSvg=()=>{const{imgEl:e,refModalImg:t,styleModalImg:i}=this;if(p(e)){const a=document.createElement("div");a.innerHTML=e.outerHTML;const n=a.firstChild;n.style.width=`${i.width||0}px`,n.style.height=`${i.height||0}px`,n.addEventListener("click",this.handleUnzoom),t.current?.firstChild?.remove?.(),t.current?.appendChild?.(n)}}}render(){const{handleDialogCancel:e,handleDialogClick:t,handleDialogKeyDown:i,handleUnzoom:n,handleZoom:o,imgEl:r,props:{a11yNameButtonUnzoom:s,a11yNameButtonZoom:l,children:h,classDialog:d,IconUnzoom:m,IconZoom:f,isZoomed:v,wrapElement:E,ZoomContent:w,zoomImg:S,zoomMargin:L},refContent:z,refDialog:N,refModalContent:D,refModalImg:W,refWrap:M,state:{id:C,isZoomImgLoaded:H,loadedImgEl:Z,modalState:k,shouldRefresh:x}}=this,U=`rmiz-modal-${C}`,T=`rmiz-modal-img-${C}`,A=g(r),R=u(r),O=p(r),F=(e=>{if(e)return u(e)?e.alt??void 0:e.getAttribute("aria-label")??void 0})(r),$=b(r),_=R?r.sizes:void 0,B=R?r.srcset:void 0,P=!!S?.src,Y=r&&(Z||O)&&"none"!==window.getComputedStyle(r).display,j=F?`${l}: ${F}`:l,G="LOADING"===k||"LOADED"===k,V=Y?"found":"not-found",K="UNLOADED"===k||"UNLOADING"===k?"hidden":"visible",q={visibility:"UNLOADED"===k?"visible":"hidden"},J=(e=>{if(!e)return{};if(p(e)){const t=e.parentElement,i=e.getBoundingClientRect();if(t){const e=t.getBoundingClientRect();return{height:i.height,left:e.left-i.left,top:e.top-i.top,width:i.width}}return{height:i.height,left:i.left,width:i.width,top:i.top}}return{height:e.offsetHeight,left:e.offsetLeft,width:e.offsetWidth,top:e.offsetTop}})(r);this.styleModalImg=Y?y({hasZoomImg:P,imgSrc:$,isSvg:O,isZoomed:v&&G,loadedImgEl:Z,offset:L,shouldRefresh:x,targetEl:r}):{};let Q=null;if(Y){const e=R||A?a.createElement("img",{alt:F,sizes:_,src:$,srcSet:B,...H&&"LOADED"===k?S:{},"data-rmiz-modal-img":"",height:this.styleModalImg.height||void 0,id:T,ref:W,style:this.styleModalImg,width:this.styleModalImg.width||void 0}):O?a.createElement("div",{"data-rmiz-modal-img":!0,ref:W,style:this.styleModalImg}):null,t=a.createElement("button",{"aria-label":s,"data-rmiz-btn-unzoom":"",onClick:n,type:"button"},a.createElement(m,null));Q=w?a.createElement(w,{buttonUnzoom:t,modalState:k,img:e,onUnzoom:n}):a.createElement(a.Fragment,null,e,t)}return a.createElement(E,{"aria-owns":U,"data-rmiz":"",ref:M},a.createElement(E,{"data-rmiz-content":V,ref:z,style:q},h),Y&&a.createElement(E,{"data-rmiz-ghost":"",style:J},a.createElement("button",{"aria-label":j,"data-rmiz-btn-zoom":"",onClick:o,type:"button"},a.createElement(f,null))),Y&&null!=I&&(0,c.createPortal)(a.createElement("dialog",{"aria-labelledby":T,"aria-modal":"true",className:d,"data-rmiz-modal":"",id:U,onClick:t,onClose:n,onCancel:e,onKeyDown:i,ref:N,role:"dialog"},a.createElement("div",{"data-rmiz-modal-overlay":K}),a.createElement("div",{"data-rmiz-modal-content":"",ref:D},Q)),I))}componentDidMount(){this.setId(),this.setAndTrackImg(),this.handleImgLoad(),this.UNSAFE_handleSvg()}componentWillUnmount(){"UNLOADED"!==this.state.modalState&&this.bodyScrollEnable(),this.changeObserver?.disconnect?.(),this.imgElObserver?.disconnect?.(),this.imgEl?.removeEventListener?.("load",this.handleImgLoad),this.imgEl?.removeEventListener?.("click",this.handleZoom),this.refModalImg.current?.removeEventListener?.("transitionend",this.handleZoomEnd),this.refModalImg.current?.removeEventListener?.("transitionend",this.handleUnzoomEnd),window.removeEventListener("wheel",this.handleWheel),window.removeEventListener("touchstart",this.handleTouchStart),window.removeEventListener("touchend",this.handleTouchMove),window.removeEventListener("touchcancel",this.handleTouchCancel),window.removeEventListener("resize",this.handleResize)}componentDidUpdate(e){this.UNSAFE_handleSvg(),this.handleIfZoomChanged(e.isZoomed)}}function M(e){const[t,i]=(0,a.useState)(!1);return a.createElement(D,{...e,isZoomed:t,onZoomChange:i})}W.defaultProps={a11yNameButtonUnzoom:"Minimize image",a11yNameButtonZoom:"Expand image",IconUnzoom:function(){return a.createElement("svg",{"aria-hidden":"true","data-rmiz-btn-unzoom-icon":!0,fill:"currentColor",focusable:"false",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M 14.144531 1.148438 L 9 6.292969 L 9 3 L 8 3 L 8 8 L 13 8 L 13 7 L 9.707031 7 L 14.855469 1.851563 Z M 8 8 L 3 8 L 3 9 L 6.292969 9 L 1.148438 14.144531 L 1.851563 14.855469 L 7 9.707031 L 7 13 L 8 13 Z"}))},IconZoom:function(){return a.createElement("svg",{"aria-hidden":"true","data-rmiz-btn-zoom-icon":!0,fill:"currentColor",focusable:"false",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M 9 1 L 9 2 L 12.292969 2 L 2 12.292969 L 2 9 L 1 9 L 1 14 L 6 14 L 6 13 L 2.707031 13 L 13 2.707031 L 13 6 L 14 6 L 14 1 Z"}))},wrapElement:"div",zoomMargin:0};var C=e=>{let{image:t,title:i}=e;return a.createElement("div",{className:"mb-3 border border-gray-500"},a.createElement(M,null,a.createElement(n.G,{image:t.gatsbyImageData,alt:i})))};var H=e=>{let{data:{directus:{product:t}}}=e;const i=(0,n.c)(t.image_primary.imageFile.childImageSharp),s=t.designer||t.manufacturer.title;let l;return t.image_secondary&&(l=(0,n.c)(t.image_secondary.imageFile.childImageSharp)),a.createElement(r.Z,null,a.createElement(d.Z,null,a.createElement("article",{className:"grid grid-cols-1 gap-6 py-6 mx-auto md:grid-cols-5",id:"wrap"},a.createElement("div",{className:"order-last col-span-3 md:order-first"},a.createElement("div",{className:"min-h-full mx-auto mb-20 print:max-width-none print:break-after-avoid print:break-inside-avoid"},i&&a.createElement(a.Fragment,null,a.createElement(C,{image:t.image_primary.imageFile.childImageSharp,title:t.title+" Primary"})),void 0!==l&&a.createElement(a.Fragment,null,a.createElement(C,{image:t.image_secondary.imageFile.childImageSharp,title:t.title+" Secondary"})))),a.createElement("div",{className:"col-span-2"},a.createElement("div",{className:"mb-6 leading-none"},a.createElement("h1",{className:"text-2xl font-semibold"},t.title),t.subtitle&&a.createElement("h2",{className:"text-lg"},t.subtitle),a.createElement("p",{className:"mt-6 text-lg font-light"},t.collection&&a.createElement("span",null,"From the ",a.createElement("strong",null,t.collection," Collection")," "),"by ",a.createElement("strong",null,s)),a.createElement("p",{className:"hidden text-sm print:block print:mt-4"},a.createElement("a",{href:t.href},t.href))),a.createElement("div",{className:""},a.createElement(o.D,{className:"mb-6 prose text-black text-md print:text-sm max-w-none prose-h2:font-normal prose-h2:text-base prose-h2:text-black"},t.description),a.createElement("p",{className:"mb-6 print:hidden"},a.createElement("a",{href:t.href,rel:"noopener",target:"_blank",className:"button"},"View at "+t.manufacturer.title)),t.tags&&a.createElement("p",{className:"text-xs"},t.tags.join(", ")))))))};const Z=e=>{let{data:{directus:{product:t}},location:i}=e;const n=t.manufacturer.title+" - "+t.title;return a.createElement(a.Fragment,null,a.createElement(s.H,{title:n,pathname:i.pathname}),a.createElement(h,{product:t,pathname:i.pathname}))}}}]);
//# sourceMappingURL=component---src-templates-product-tsx-7cb7589b9aae955c8325.js.map