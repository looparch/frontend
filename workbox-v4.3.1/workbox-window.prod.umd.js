(function(l,v){typeof exports=="object"&&typeof module<"u"?v(exports):typeof define=="function"&&define.amd?define(["exports"],v):v((l=l||self).workbox={})})(this,function(l){"use strict";try{self["workbox:window:4.3.1"]&&_()}catch{}var v=function(n,o){return new Promise(function(i){var a=new MessageChannel;a.port1.onmessage=function(g){return i(g.data)},n.postMessage(o,[a.port2])})};function k(n,o){for(var i=0;i<o.length;i++){var a=o[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(n,a.key,a)}}function h(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}try{self["workbox:core:4.3.1"]&&_()}catch{}var y=function(){var n=this;this.promise=new Promise(function(o,i){n.resolve=o,n.reject=i})},E=function(n,o){return new URL(n,location).href===new URL(o,location).href},p=function(n,o){Object.assign(this,o,{type:n})};function w(n){return function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];try{return Promise.resolve(n.apply(this,o))}catch(a){return Promise.reject(a)}}}function b(n,o,i){return i?o?o(n):n:(n&&n.then||(n=Promise.resolve(n)),o?n.then(o):n)}function W(){}var R=function(n){var o,i;function a(r,s){var t;return s===void 0&&(s={}),(t=n.call(this)||this).t=r,t.i=s,t.o=0,t.u=new y,t.s=new y,t.h=new y,t.v=t.v.bind(h(h(t))),t.l=t.l.bind(h(h(t))),t.g=t.g.bind(h(h(t))),t.m=t.m.bind(h(h(t))),t}i=n,(o=a).prototype=Object.create(i.prototype),o.prototype.constructor=o,o.__proto__=i;var g,L,P,u=a.prototype;return u.register=w(function(r){var s,t,e=this,f=(r===void 0?{}:r).immediate,m=f!==void 0&&f;return s=function(){return e.p=!!navigator.serviceWorker.controller,e.P=e.j(),b(e.O(),function(c){e.R=c,e.P&&(e._=e.P,e.s.resolve(e.P),e.h.resolve(e.P),e.k(e.P),e.P.addEventListener("statechange",e.l,{once:!0}));var d=e.R.waiting;return d&&E(d.scriptURL,e.t)&&(e._=d,Promise.resolve().then(function(){e.dispatchEvent(new p("waiting",{sw:d,wasWaitingBeforeRegister:!0}))})),e._&&e.u.resolve(e._),e.R.addEventListener("updatefound",e.g),navigator.serviceWorker.addEventListener("controllerchange",e.m,{once:!0}),"BroadcastChannel"in self&&(e.B=new BroadcastChannel("workbox"),e.B.addEventListener("message",e.v)),navigator.serviceWorker.addEventListener("message",e.v),e.R})},(t=function(){if(!m&&document.readyState!=="complete")return function(c,d){if(!d)return c&&c.then?c.then(W):Promise.resolve()}(new Promise(function(c){return addEventListener("load",c)}))}())&&t.then?t.then(s):s(t)}),u.getSW=w(function(){return this._||this.u.promise}),u.messageSW=w(function(r){return b(this.getSW(),function(s){return v(s,r)})}),u.j=function(){var r=navigator.serviceWorker.controller;if(r&&E(r.scriptURL,this.t))return r},u.O=w(function(){var r=this;return function(s,t){try{var e=s()}catch(f){return t(f)}return e&&e.then?e.then(void 0,t):e}(function(){return b(navigator.serviceWorker.register(r.t,r.i),function(s){return r.C=performance.now(),s})},function(s){throw s})}),u.k=function(r){v(r,{type:"WINDOW_READY",meta:"workbox-window"})},u.g=function(){var r=this.R.installing;this.o>0||!E(r.scriptURL,this.t)||performance.now()>this.C+6e4?(this.L=r,this.R.removeEventListener("updatefound",this.g)):(this._=r,this.u.resolve(r)),++this.o,r.addEventListener("statechange",this.l)},u.l=function(r){var s=this,t=r.target,e=t.state,f=t===this.L,m=f?"external":"",c={sw:t,originalEvent:r};!f&&this.p&&(c.isUpdate=!0),this.dispatchEvent(new p(m+e,c)),e==="installed"?this.W=setTimeout(function(){e==="installed"&&s.R.waiting===t&&s.dispatchEvent(new p(m+"waiting",c))},200):e==="activating"&&(clearTimeout(this.W),f||this.s.resolve(t))},u.m=function(r){var s=this._;s===navigator.serviceWorker.controller&&(this.dispatchEvent(new p("controlling",{sw:s,originalEvent:r})),this.h.resolve(s))},u.v=function(r){var s=r.data;this.dispatchEvent(new p("message",{data:s,originalEvent:r}))},g=a,(L=[{key:"active",get:function(){return this.s.promise}},{key:"controlling",get:function(){return this.h.promise}}])&&k(g.prototype,L),P&&k(g,P),a}(function(){function n(){this.D={}}var o=n.prototype;return o.addEventListener=function(i,a){this.M(i).add(a)},o.removeEventListener=function(i,a){this.M(i).delete(a)},o.dispatchEvent=function(i){i.target=this,this.M(i.type).forEach(function(a){return a(i)})},o.M=function(i){return this.D[i]=this.D[i]||new Set},n}());l.Workbox=R,l.messageSW=v,Object.defineProperty(l,"__esModule",{value:!0})});
